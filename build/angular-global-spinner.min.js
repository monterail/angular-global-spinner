/*! angular-global-spinner 2014-01-16 */
(function(){angular.module("globalSpinner"),angular.module("globalSpinner").config(function(a,b){return a.factory("SpinnerInterceptor",["$q","$injector",function(a,c){var d,e,f,g,h;return d=d||c.get("$rootScope"),e=0,b.defaults.transformRequest.push(function(a){return d.$spinnerLoading=!0,e++,a}),b.defaults.transformResponse.push(function(a){return e--,0===e&&(d.$spinnerLoading=!1),a}),f=function(){var a;return a=a||c.get("$http"),a.pendingRequests.length<1?d.$spinnerLoading=!1:void 0},h=function(a){return f(),a},g=function(b){return f(),a.reject(b)},function(a){return d.$spinnerLoading=!0,a.then(h,g)}}]),b.responseInterceptors.push("SpinnerInterceptor")}),angular.module("globalSpinner").directive("spinner",function(){return{restrict:"EA",replace:!0,link:function(a,b){return a.$watch("$spinnerLoading",function(a){return angular.element(b).css("display",a?"block":"none")})}}})}).call(this);