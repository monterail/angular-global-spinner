/*! angular-global-spinner 2015-05-28 */
(function(){angular.module("globalSpinner",[]),angular.module("globalSpinner").provider("globalSpinner",function(){return{configure:function(a){return null==a&&(a={}),this.config=a},$get:function(){return angular.extend({timeout:0,eventStart:"globalSpinner:start",eventStop:"globalSpinner:stop"},this.config)}}}).config(["$provide","$httpProvider",function(a,b){return a.factory("globalSpinnerInterceptor",["$q","$injector","$timeout","globalSpinner","$filter",function(a,b,c,d,e){var f,g,h,i,j;return f=f||b.get("$rootScope"),j=null,g=function(){return j&&(c.cancel(j),j=null),f.$broadcast(d.eventStop)},i=function(){return j||(j=c(function(){return j=null,f.$broadcast(d.eventStart)},d.timeout))},h=function(){var a;return a=a||b.get("$http"),e("filter")(a.pendingRequests,{headers:{"X-Silent-Request":void 0}}).length<1},{request:function(a){return a.headers["X-Silent-Request"]||i(),a},requestError:function(b){return h()&&g(),a.reject(response)},response:function(a){return h()&&g(),a},responseError:function(b){return h()&&g(),a.reject(b)}}}]),b.interceptors.push("globalSpinnerInterceptor")}])}).call(this);